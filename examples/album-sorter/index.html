<!doctype html>
<html>
  <head>
    <title>Power grid.js - Album sorter</title>
    <link rel="stylesheet" href="styles.css"/>
  </head>
  <body>
  <p>
    <input id="by_artist" name="sort" type="radio" class="sorter" data-criterion="artist" checked="checked">
    <label for="by_artist">Sort by Artist</label>
    <input id="by_album" name="sort" type="radio" class="sorter" data-criterion="album">
    <label for="by_album">Sort by Album name</label>
    <input id="by_year" name="sort" type="radio" class="sorter" data-criterion="date">
    <label for="by_year">Sort by Release year</label>
  </p>

  <div id="container">
    <div class="box" data-artist="chemical brothers" data-album="we are the night" data-date="2007">
      <img src="img/chemical_brothers-we_are_the_night.png"  alt=""/>>
    </div>
    <div class="box" data-artist="keziah jones" data-album="black orpheus" data-date="2003">
      <img src="img/keziah_jones-black_orpheus.png" alt=""/>
    </div>
    <div class="box" data-artist="morcheeba" data-album="dive deep" data-date="2008">
      <img src="img/morcheeba-dive_deep.jpg" alt=""/>
    </div>
    <div class="box" data-artist="morcheeba" data-album="the antidote" data-date="2005">
      <img src="img/morcheeba-the_antidote.jpg" alt=""/>
    </div>
    <div class="box" data-artist="portishead" data-album="dummy" data-date="1994">
      <img src="img/portishead-dummy.jpg" alt=""/>
    </div>
    <div class="box" data-artist="radiohead" data-album="in rainbows" data-date="2007">
      <img src="img/radiohead-in_rainbows.jpg" alt=""/>
    </div>
    <div class="box" data-artist="rage against the machine" data-album="the battle of los angeles" data-date="1999">
      <img src="img/rage_against_the_machine-the_battle_of_los_angeles.jpg" alt=""/>
    </div>
    <div class="box" data-artist="talib kweli and dj hi-tek" data-album="reflection eternal" data-date="2000">
      <img src="img/talib_kweli-reflection_eternal.jpg" alt=""/>
    </div>
  </div>

  <script src="../jquery-1.10.1.js"></script>
  <script src="../../power-grid.js"></script>
  <script>
    var grid = $('#container').powerGrid({ cols: 5, gutter: 10, selector: '.box' });
    grid.draw();

    $('.sorter').click(function() {
      var criterion = $(this).data('criterion');
      Array.prototype.sort.call(grid.getElements(), function sort(a, b) {
        var aCrit = $(a).data(criterion);
        var bCrit = $(b).data(criterion);

        if(aCrit > bCrit) return 1;
        if(aCrit == bCrit) return 0;
        if(aCrit < bCrit) return -1;
      });

      grid.draw();
    });
  </script>
  </body>
</html>